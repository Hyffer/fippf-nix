# [FIPPF](https://github.com/Hyffer/fippf) package for nix

## This repo contains

An overlay that builds fippf package.

A NixOS module runs fippf as systemd service.

```sh
$ nix flake show
├───nixosModules
│   └───fippfService: NixOS module
└───overlays
    └───fippf: Nixpkgs overlay
```

## Use with flake

flake.nix
```diff
{
  description = "NixOS flake";

  inputs = {
    nixpkgs.url = "github:NixOS/nixpkgs/nixos-24.11";
+   fippf.url = "github:Hyffer/fippf-nix";
  };

  outputs = { self, nixpkgs, ... } @ inputs:
+ let
+   pkgsOverlay = {
+     nixpkgs.overlays = [
+       inputs.fippf.overlays.fippf
+     ];
+   };
+ in
  {
    nixosConfigurations.<host> = nixpkgs.lib.nixosSystem {
      system = "x86_64-linux";
      specialArgs = { inherit inputs; };

      modules = [
+       pkgsOverlay
+       inputs.fippf.nixosModules.fippfService
        ./configuration.nix
      ];
    };
  };
}
```

configuration.nix
```diff
{ config, lib, pkgs, ... }:

{
  environment.systemPackages = with pkgs; [
+   # cli for inspection purpose
+   fippf
  ];

+ # systemd service
+ # refer to module.nix for available options
+ services.fippf.enable = true;
}
```

## Acknowledgement

fippf package is generated by [nix-init](https://github.com/nix-community/nix-init).
